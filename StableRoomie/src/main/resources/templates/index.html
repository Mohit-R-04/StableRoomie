<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roommate Harmony - SSN College</title>
    <link rel="stylesheet" href="../static/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Template for Modal -->
    <template id="modal-template">
      <div class="modal">
        <div class="modal-content classic-card">
          <span class="modal-close">√ó</span>
          <div class="modal-body"></div>
        </div>
      </div>
    </template>

    <!-- Landing Page -->
    <div id="landing-page" class="page active">
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo-section">
              <img
                src="../static/src/ssn_logo.png"
                alt="SSN Logo"
                class="logo"
              />
              <div class="logo-text">
                <h1>Roommate Harmony</h1>
                <p>Sri Sivasubramaniya Nadar College of Engineering</p>
              </div>
            </div>
            <input
              type="checkbox"
              id="dark-mode-toggle"
              class="dark-mode-toggle"
            />
            <label for="dark-mode-toggle" class="toggle-btn">
              <span class="sun-icon">‚òÄÔ∏è</span>
              <span class="moon-icon">üåô</span>
            </label>
          </div>
        </div>
      </header>

      <main class="hero-section">
        <div class="container">
          <div class="hero-content">
            <h2>Find Your Perfect Roommate</h2>
            <p>
              Our intelligent matching algorithm helps SSN students find
              compatible roommates based on detailed preferences and lifestyle
              choices.
            </p>

            <div class="login-card glass-card">
              <div class="card-header">
                <h3>Login</h3>
                <p>Sign in with your SSN Google account to get started</p>
              </div>
              <div class="card-content">
                <button class="button" onclick="handleLogin()">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    preserveAspectRatio="xMidYMid"
                    viewBox="0 0 256 262"
                    class="svg"
                  >
                    <path
                      fill="#4285F4"
                      d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"
                      class="blue"
                    ></path>
                    <path
                      fill="#34A853"
                      d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"
                      class="green"
                    ></path>
                    <path
                      fill="#FBBC05"
                      d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"
                      class="yellow"
                    ></path>
                    <path
                      fill="#EB4335"
                      d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"
                      class="red"
                    ></path>
                  </svg>
                  <span class="text">Continue with Google</span>
                </button>
                <p class="login-note">
                  Only @ssn.edu.in or @ssn.admin.edu.in accounts are allowed
                </p>
              </div>
            </div>
          </div>

          <div class="features-grid">
            <div class="feature-card glass-card">
              <div class="feature-icon">üë•</div>
              <h3>Smart Matching</h3>
              <p>
                Advanced algorithm matches you with compatible roommates based
                on your preferences
              </p>
            </div>
            <div class="feature-card glass-card">
              <div class="feature-icon">‚è∞</div>
              <h3>Lifestyle Compatibility</h3>
              <p>
                Match based on sleep schedules, study habits, and daily routines
              </p>
            </div>
            <div class="feature-card glass-card">
              <div class="feature-icon">üìö</div>
              <h3>Department Preferences</h3>
              <p>
                Find roommates from your department or explore cross-department
                matches
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Student Dashboard Page -->
    <div id="dashboard-page" class="page">
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo-section">
              <img
                src="../static/src/ssn_logo.png"
                alt="SSN Logo"
                class="logo"
              />
              <h1>Roommate Harmony</h1>
            </div>
            <div class="header-actions">
              <input
                type="checkbox"
                id="dashboard-dark-toggle"
                class="dark-mode-toggle"
              />
              <label for="dashboard-dark-toggle" class="toggle-btn">
                <span class="sun-icon">‚òÄÔ∏è</span>
                <span class="moon-icon">üåô</span>
              </label>
              <a href="#landing" class="logout-btn" onclick="showLanding()"
                >Logout</a
              >
            </div>
          </div>
        </div>
      </header>

      <main class="dashboard-main">
        <div class="container">
          <div class="dashboard-header">
            <h2>Welcome, Student!</h2>
            <p>Complete your preferences to find the perfect roommate match.</p>
          </div>

          <div class="dashboard-grid">
            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üë§ Your Profile</h3>
                <p>Complete your profile to get started</p>
              </div>
              <div class="card-content">
                <div class="status-row">
                  <span>Status:</span>
                  <span class="badge incomplete">Incomplete</span>
                </div>
                <a
                  href="#preferences"
                  class="btn primary"
                  onclick="showPreferences()"
                  >Complete Profile</a
                >
              </div>
            </div>

            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üë• Roommate Matches</h3>
                <p>Complete preferences to see matches</p>
              </div>
              <div class="card-content">
                <div class="status-row">
                  <span>Matches Found:</span>
                  <span class="badge">0</span>
                </div>
                <button class="btn secondary disabled">View Matches</button>
              </div>
            </div>

            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üì© Messages</h3>
                <p>Stay updated with notifications and requests</p>
              </div>
              <div class="card-content">
                <div class="message-list">
                  <div class="message-item">
                    <span>Arjun Kumar sent a connection request</span>
                    <button class="btn secondary small">Respond</button>
                  </div>
                  <div class="message-item">
                    <span>Profile completion reminder</span>
                    <button class="btn secondary small">View</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="matches-section" style="display: none">
            <h3>Your Roommate Matches</h3>
            <div class="matches-grid">
              <div class="match-card glass-card">
                <div class="match-header">
                  <h4>Arjun Kumar</h4>
                  <span class="compatibility-badge">95% Match</span>
                </div>
                <p class="match-info">CSE ‚Ä¢ 2nd Year</p>
                <div class="match-details">
                  <div class="detail-item">
                    <span class="icon">‚è∞</span>
                    <span>Sleep: 11:00 PM - Wake: 7:00 AM</span>
                  </div>
                  <div class="detail-item">
                    <span class="icon">üë§</span>
                    <span>Silent Study</span>
                  </div>
                </div>
                <p class="hobbies">
                  <strong>Hobbies:</strong> Reading, Chess, Coding
                </p>
                <div class="match-actions">
                  <button class="btn primary small">Connect</button>
                  <button class="btn secondary small">View Profile</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Preferences Form Page -->
    <div id="preferences-page" class="page">
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="header-left">
              <a href="#dashboard" class="back-btn" onclick="showDashboard()"
                >‚Üê Back</a
              >
              <h1>Roommate Preferences</h1>
            </div>
            <input
              type="checkbox"
              id="preferences-dark-toggle"
              class="dark-mode-toggle"
            />
            <label for="preferences-dark-toggle" class="toggle-btn">
              <span class="sun-icon">‚òÄÔ∏è</span>
              <span class="moon-icon">üåô</span>
            </label>
          </div>
        </div>
      </header>

      <main class="preferences-main">
        <div class="container">
          <div class="preferences-form glass-card">
            <div class="card-header">
              <h2>Complete Your Profile</h2>
              <p>
                Help us find your perfect roommate by filling out these detailed
                preferences
              </p>
            </div>
            <div class="card-content">
              <form class="form">
                <div class="form-row">
                   <div class="form-group">
                  <label for="student-name">Name *</label>
                  <input
                    id="student-name"
                    type="text"
                    class="form-input js-name"
                    placeholder="Enter your name"
                    required
                    aria-required="true"
                  />
                </div>
                  <div class="form-group">
                    <label for="sleep-time">Sleep Time *</label>
                    <select
                      id="sleep-time"
                      class="form-select js-sleep"
                      required
                      aria-required="true"
                    >
                      <option value="11:00 PM" selected>11:00 PM</option>
                      <option value="9:00 PM">9:00 PM</option>
                      <option value="10:00 PM">10:00 PM</option>
                      <option value="12:00 AM">12:00 AM</option>
                      <option value="1:00 AM">1:00 AM</option>
                      <option value="2:00 AM">2:00 AM</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="wake-time">Wake Time *</label>
                    <select
                      id="wake-time"
                      class="form-select js-wake"
                      required
                      aria-required="true"
                    >
                      <option value="7:00 AM" selected>7:00 AM</option>
                      <option value="5:00 AM">5:00 AM</option>
                      <option value="6:00 AM">6:00 AM</option>
                      <option value="8:00 AM">8:00 AM</option>
                      <option value="9:00 AM">9:00 AM</option>
                      <option value="10:00 AM">10:00 AM</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="noise-level">Preferred Noise Level *</label>
                    <select
                      id="noise-level"
                      class="form-select js-noise"
                      required
                      aria-required="true"
                    >
                      <option value="low" selected>
                        Low background noise okay
                      </option>
                      <option value="silent">Complete silence needed</option>
                      <option value="moderate">
                        Moderate noise acceptable
                      </option>
                    </select>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="department">Department *</label>
                    <select
                      id="department"
                      class="form-select js-department"
                      required
                      aria-required="true"
                    >
                      <option value="CSE" selected>
                        Computer Science & Engineering
                      </option>
                      <option value="ECE">Electronics & Communication</option>
                      <option value="EEE">Electrical & Electronics</option>
                      <option value="MECH">Mechanical Engineering</option>
                      <option value="CIVIL">Civil Engineering</option>
                      <option value="IT">Information Technology</option>
                      <option value="BME">Biomedical Engineering</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="year">Year of Study *</label>
                    <select
                      id="year"
                      class="form-select js-year"
                      required
                      aria-required="true"
                    >
                      <option value="2" selected>2nd Year</option>
                      <option value="1">1st Year</option>
                      <option value="3">3rd Year</option>
                      <option value="4">4th Year</option>
                    </select>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input
                      id="phone"
                      type="tel"
                      class="form-input js-phone"
                      placeholder="Enter your phone number"
                      required
                      aria-required="true"
                    />
                  </div>
                  <div class="form-group">
                    <label for="student-id">Student ID *</label>
                    <input
                      id="student-id"
                      type="text"
                      class="form-input js-studentId"
                      placeholder="Enter your student ID"
                      required
                      aria-required="true"
                    />
                  </div>
                </div>

                <div class="form-group">
                  <label for="study-time">Preferred Study Time *</label>
                  <select
                    id="study-time"
                    class="form-select js-study"
                    required
                    aria-required="true"
                  >
                    <option value="evening" selected>
                      Evening (5 PM - 9 PM)
                    </option>
                    <option value="early-morning">
                      Early Morning (5 AM - 8 AM)
                    </option>
                    <option value="morning">Morning (8 AM - 12 PM)</option>
                    <option value="afternoon">Afternoon (12 PM - 5 PM)</option>
                    <option value="night">Night (9 PM - 12 AM)</option>
                    <option value="late-night">
                      Late Night (12 AM - 3 AM)
                    </option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="room-type">Room Type Preference *</label>
                  <select
                    id="room-type"
                    class="form-select js-room"
                    required
                    aria-required="true"
                  >
                    <option value="double" selected>Double Sharing</option>
                    <option value="single">Single Room</option>
                    <option value="triple">Triple Sharing</option>
                    <option value="quad">Quad Sharing</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="address">Home Address *</label>
                  <textarea
                    id="address"
                    class="form-textarea js-home"
                    placeholder="Enter your home address"
                    rows="3"
                    required
                    aria-required="true"
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="emergency-contact">Emergency Contact *</label>
                  <input
                    id="emergency-contact"
                    type="text"
                    class="form-input js-emergency"
                    placeholder="Enter emergency contact name and number"
                    required
                    aria-required="true"
                  />
                </div>

                <div class="form-group">
                  <label for="preferred-roommates"
                    >Preferred Roommates (Optional)</label
                  >
                  <textarea
                    id="preferred-roommates"
                    class="form-textarea js-friends"
                    placeholder="Enter names or student IDs of preferred roommates (if any)"
                    rows="2"
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="study-habits">Study Habits *</label>
                  <select
                    id="study-habits"
                    class="form-select js-studyHabbits"
                    required
                    aria-required="true"
                  >
                    <option value="silent" selected>Silent Study</option>
                    <option value="music">Study with Music</option>
                    <option value="group">Group Study</option>
                    <option value="discussion">Discussion-based</option>
                  </select>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="cleanliness">Cleanliness Level *</label>
                    <select
                      id="cleanliness"
                      class="form-select js-clean"
                      required
                      aria-required="true"
                    >
                      <option value="moderately-clean" selected>
                        Moderately Clean
                      </option>
                      <option value="very-clean">Very Clean</option>
                      <option value="casual">Casual</option>
                    </select>
                  </div>
                  

                <div class="form-row">
                  <div class="form-group">
                    <label for="light-sensitivity">Light Sensitivity *</label>
                    <select
                      id="light-sensitivity"
                      class="form-select js-light"
                      required
                      aria-required="true"
                      placeholder="Select Light Sensitivity"
                    >
                      <option value="no-light">
                        Need complete darkness to sleep
                      </option>
                      <option value="any-light">
                        Can sleep with any light
                      </option>
                    </select>
                  </div> 
                  <div class="form-group">
                    <label for="location">chennai or non chennai *</label>
                    <select
                      id="location"
                      class="form-select js-location"
                      required
                      aria-required="true"
                    >
                      <option value="chennai" selected>
                        Chennai
                      </option>
                      <option value="non-chennai">Non-Chennai</option>
                      
                    </select>
                  </div>
                </div>

                
                <button type="submit" class="btn primary large js-submitIt">
                  Save Preferences
                </button>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Admin Dashboard Page -->
    <div id="admin-dashboard-page" class="page">
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo-section">
              <img
                src="../static/src/ssn_logo.png"
                alt="SSN Logo"
                class="logo"
              />
              <h1>Admin Dashboard</h1>
            </div>
            <div class="header-actions">
              <input
                type="checkbox"
                id="admin-dark-toggle"
                class="dark-mode-toggle"
              />
              <label for="admin-dark-toggle" class="toggle-btn">
                <span class="sun-icon">‚òÄÔ∏è</span>
                <span class="moon-icon">üåô</span>
              </label>
              <a href="#landing" class="logout-btn" onclick="showLanding()"
                >Logout</a
              >
            </div>
          </div>
        </div>
      </header>

      <main class="admin-main">
        <div class="container">
          <div class="dashboard-header">
            <h2>Welcome, Admin!</h2>
            <p>Manage student categories, room types, and room allotments.</p>
          </div>

          <div class="admin-grid">
            <!-- Manage Categories -->
            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üë• Manage Categories</h3>
                <p>Add, remove, or edit student categories</p>
              </div>
              <div class="card-content">
                <div class="category-list">
                  <div class="category-item">
                    <span>1st Year SSN Students</span>
                    <div class="category-actions">
                      <button
                        class="btn secondary small"
                        onclick="showEditCategoryModal()"
                      >
                        Edit
                      </button>
                      <button class="btn secondary small remove">Remove</button>
                    </div>
                  </div>
                  <div class="category-item">
                    <span>3rd Year SSN Students</span>
                    <div class="category-actions">
                      <button
                        class="btn secondary small"
                        onclick="showEditCategoryModal()"
                      >
                        Edit
                      </button>
                      <button class="btn secondary small remove">Remove</button>
                    </div>
                  </div>
                </div>
                <button class="btn primary" onclick="showAddCategoryModal()">
                  Add Category
                </button>
              </div>
            </div>

            <!-- Manage Room Types -->
            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üè† Manage Room Types</h3>
                <p>Add, remove, or edit room types and access</p>
              </div>
              <div class="card-content">
                <div class="room-type-list">
                  <div class="room-type-item">
                    <span>Single Room (Access: 3rd, 4th Year)</span>
                    <div class="room-type-actions">
                      <button
                        class="btn secondary small"
                        onclick="showEditRoomTypeModal()"
                      >
                        Edit
                      </button>
                      <button class="btn secondary small remove">Remove</button>
                    </div>
                  </div>
                  <div class="room-type-item">
                    <span>Double Sharing (Access: All Years)</span>
                    <div class="room-type-actions">
                      <button
                        class="btn secondary small"
                        onclick="showEditRoomTypeModal()"
                      >
                        Edit
                      </button>
                      <button class="btn secondary small remove">Remove</button>
                    </div>
                  </div>
                </div>
                <button class="btn primary" onclick="showAddRoomTypeModal()">
                  Add Room Type
                </button>
              </div>
            </div>

            <!-- Allot Rooms -->
            <div class="dashboard-card glass-card">
              <div class="card-header">
                <h3>üìÖ Allot Rooms</h3>
                <p>Allocate rooms to students by category</p>
              </div>
              <div class="card-content">
                <div class="form-group">
                  <label for="location">Location</label>
                  <select
                    id="location"
                    class="form-select"
                    onchange="updateCategoryOptions()"
                  >
                    <option value="">Select location</option>
                    <option value="chennai">Chennai Students</option>
                    <option value="non-chennai">Non-Chennai Students</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="category">Category</label>
                  <select
                    id="category"
                    class="form-select"
                    onchange="showAllotmentForm()"
                  >
                    <option value="">Select category</option>
                  </select>
                </div>
                <div id="allotment-form" style="display: none">
                  <div class="form-group">
                    <label for="allot-room-type">Room Type</label>
                    <select id="allot-room-type" class="form-select">
                      <option value="">Select room type</option>
                      <option value="single">Single Room</option>
                      <option value="double">Double Sharing</option>
                      <option value="triple">Triple Sharing</option>
                      <option value="quad">Quad Sharing</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="num-students">Number of Students</label>
                    <input
                      id="num-students"
                      type="number"
                      class="form-input"
                      placeholder="Enter number of students"
                      min="1"
                    />
                  </div>
                  <button class="btn primary" onclick="allotRooms()">
                    Allot Rooms
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
    <script>console.log("hello")</script>
    <script src="../scripts/allotment.js" type="module"></script>
    <script>
      console.log("hello");
      function handleLogin() {
        // Simulate admin detection based on email domain
        const isAdmin = prompt(
          "Enter email (use @ssn.admin.edu.in for admin):"
        ).endsWith("@ssn.admin.edu.in");
        document
          .querySelectorAll(".page")
          .forEach((page) => page.classList.remove("active"));
        if (isAdmin) {
          document
            .getElementById("admin-dashboard-page")
            .classList.add("active");
        } else {
          document.getElementById("dashboard-page").classList.add("active");
        }
      }

      function showDashboard() {
        document
          .querySelectorAll(".page")
          .forEach((page) => page.classList.remove("active"));
        document.getElementById("dashboard-page").classList.add("active");
      }

      function showLanding() {
        document
          .querySelectorAll(".page")
          .forEach((page) => page.classList.remove("active"));
        document.getElementById("landing-page").classList.add("active");
      }

      function showPreferences() {
        document
          .querySelectorAll(".page")
          .forEach((page) => page.classList.remove("active"));
        document.getElementById("preferences-page").classList.add("active");
      }

      function showAddCategoryModal() {
        const modalTemplate = document
          .getElementById("modal-template")
          .content.cloneNode(true);
        modalTemplate.querySelector(".modal-body").innerHTML = `
          <h3>Add Category</h3>
          <form class="form">
            <div class="form-group">
              <label for="category-name">Category Name</label>
              <input id="category-name" type="text" class="form-input" placeholder="e.g., 2nd Year SSN Students" />
            </div>
            <button type="submit" class="btn primary">Add Category</button>
          </form>
        `;
        document.body.appendChild(modalTemplate);
        attachModalClose();
      }

      function showEditCategoryModal() {
        const modalTemplate = document
          .getElementById("modal-template")
          .content.cloneNode(true);
        modalTemplate.querySelector(".modal-body").innerHTML = `
          <h3>Edit Category</h3>
          <form class="form">
            <div class="form-group">
              <label for="category-name">Category Name</label>
              <input id="category-name" type="text" class="form-input" value="1st Year SSN Students" />
            </div>
            <button type="submit" class="btn primary">Save Changes</button>
          </form>
        `;
        document.body.appendChild(modalTemplate);
        attachModalClose();
      }

      function showAddRoomTypeModal() {
        const modalTemplate = document
          .getElementById("modal-template")
          .content.cloneNode(true);
        modalTemplate.querySelector(".modal-body").innerHTML = `
          <h3>Add Room Type</h3>
          <form class="form">
            <div class="form-group">
              <label for="room-type-name">Room Type Name</label>
              <input id="room-type-name" type="text" class="form-input" placeholder="e.g., Triple Sharing" />
            </div>
            <div class="form-group">
              <label for="allowed-categories">Allowed Categories</label>
              <select id="allowed-categories" class="form-select" multiple>
                <option value="1st-year">1st Year SSN Students</option>
                <option value="3rd-year">3rd Year SSN Students</option>
              </select>
            </div>
            <button type="submit" class="btn primary">Add Room Type</button>
          </form>
        `;
        document.body.appendChild(modalTemplate);
        attachModalClose();
      }

      function showEditRoomTypeModal() {
        const modalTemplate = document
          .getElementById("modal-template")
          .content.cloneNode(true);
        modalTemplate.querySelector(".modal-body").innerHTML = `
          <h3>Edit Room Type</h3>
          <form class="form">
            <div class="form-group">
              <label for="room-type-name">Room Type Name</label>
              <input id="room-type-name" type="text" class="form-input" value="Single Room" />
            </div>
            <div class="form-group">
              <label for="allowed-categories">Allowed Categories</label>
              <select id="allowed-categories" class="form-select" multiple>
                <option value="1st-year">1st Year SSN Students</option>
                <option value="3rd-year" selected>3rd Year SSN Students</option>
              </select>
            </div>
            <button type="submit" class="btn primary">Save Changes</button>
          </form>
        `;
        document.body.appendChild(modalTemplate);
        attachModalClose();
      }

      function updateCategoryOptions() {
        const location = document.getElementById("location").value;
        const categorySelect = document.getElementById("category");
        categorySelect.innerHTML = '<option value="">Select category</option>';
        if (location === "chennai") {
          categorySelect.innerHTML += `
            <option value="1st-year-chennai">1st Year SSN Students (Chennai)</option>
            <option value="3rd-year-chennai">3rd Year SSN Students (Chennai)</option>
          `;
        } else if (location === "non-chennai") {
          categorySelect.innerHTML += `
            <option value="1st-year-non-chennai">1st Year SSN Students (Non-Chennai)</option>
            <option value="3rd-year-non-chennai">3rd Year SSN Students (Non-Chennai)</option>
          `;
        }
      }

      function showAllotmentForm() {
        document.getElementById("allotment-form").style.display = "block";
      }

      

      function attachModalClose() {
        const closeBtn = document.querySelector(".modal-close");
        closeBtn.addEventListener("click", () => {
          const modal = closeBtn.closest(".modal");
          modal.remove();
        });
      }
    </script>
  </body>
</html>
